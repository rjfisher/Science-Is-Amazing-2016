"use strict";var app,searchWidgetNav,searchWidgetPanel;require(["esri/Map","esri/Basemap","esri/views/MapView","esri/views/SceneView","esri/widgets/Search","esri/core/watchUtils","dojo/query","widgets/recorder","bootstrap/Collapse","bootstrap/Dropdown","bootstrap/Tab","bootstrap/Tooltip","calcite-maps/calcitemaps","dojo/domReady!"],function(e,a,i,p,t,n,c,s){function r(e){var a=new t({viewModel:{view:app.activeView,highlightEnabled:!1,popupEnabled:!1,showPopupOnSelect:!1}},e);return a.startup(),a}function o(e,a){function i(){a.set({viewpoint:e.viewpoint})}a.isInstanceOf(p)&&!a.ready?n.whenTrueOnce(a,"ready").then(function(e){e&&i()}):i()}app={scale:5e7,center:[-40,40],basemap:"satellite",viewPadding:{bottom:0},uiPadding:{top:90},mapView:null,sceneView:null,activeView:null};var w=new e({basemap:app.basemap});app.mapView=new i({container:"mapViewDiv",map:w,scale:app.scale,center:app.center,padding:app.viewPadding,ui:{components:["zoom","compass","attribution"],padding:app.uiPadding}});var d=new e({basemap:app.basemap});app.sceneView=new p({container:"sceneViewDiv",map:d,scale:app.scale,center:app.center,padding:app.viewPadding,ui:{padding:app.uiPadding},visible:!0}),app.activeView=app.sceneView,app.activeView.then(function(){searchWidgetNav=r("searchNavDiv"),searchWidgetPanel=r("searchPanelDiv")});var v=new s({view:app.activeView},document.getElementById("recorder"));v.recordStart(),c('nav li a[data-toggle="tab"]').on("click",function(e){"Map"===e.target.text?(o(app.sceneView,app.mapView),app.activeView=app.mapView):(o(app.mapView,app.sceneView),app.activeView=app.sceneView),searchWidgetNav.viewModel.view=app.activeView,searchWidgetPanel.viewModel.view=app.activeView}),c("#selectBasemapPanel").on("change",function(e){app.mapView.map.basemap=e.target.value,app.sceneView.map.basemap=e.target.value})});